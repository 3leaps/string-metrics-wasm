$schema: https://schemas.fulmenhq.dev/library/foundry/v2.0.0/similarity.schema.json
version: 2025.10.3
generator:
  tool: similarity-validator
  tool_version: 0.1.0
  source_library: rapidfuzz-rs
  source_version: '3.0'
  generated_at: 2025-10-28T18:40:40.049444+00:00
  command: similarity-validator generate --input tests/fixtures/v2.0.0/suggestions.yaml --overwrite
notes: |-
  GENERATED FILE - DO NOT EDIT EXPECTED VALUES BY HAND

  This fixture was generated using similarity-validator with rapidfuzz-rs as the
  canonical source. Values are authoritative and ready for cross-language validation.

  Reference implementations:
  - Canonical: rapidfuzz-rs 3.x (Rust, used for generation)
  - Cross-check: rapidfuzz 3.x (Python, pyfulmen)
  - Under test: string-metrics-wasm (TypeScript/WASM)

  To regenerate:
  similarity-validator generate --input tests/fixtures/v2.0.0/suggestions.yaml --overwrite
test_cases:
  - category: suggestions
    cases:
      - options:
          min_score: 0.6
          max_suggestions: 3
          metric: levenshtein
          normalize_preset: default
        input: docscrib
        candidates:
          - docscribe
          - crucible-shim
          - config-path-api
          - foundry
        expected:
          - value: docscribe
            score: 0.8888888888888888
            normalized_value: docscribe
        description: CLI typo correction
        tags:
          - cli
          - typo
      - options:
          min_score: 0.5
          max_suggestions: 2
          metric: substring
          normalize_preset: default
        candidates:
          - schemas
          - schema-validation
          - config-path-api
        input: schem
        expected:
          - value: schemas
            score: 0.8333333333333334
            normalized_value: schemas
            matched_range:
              start: 0
              end: 5
        description: Partial path matching
        tags:
          - path
          - substring
      - options:
          min_score: 0.6
          max_suggestions: 2
          metric: levenshtein
          normalize_preset: aggressive
        input: Café
        candidates:
          - café
          - cache
          - config
        expected:
          - value: café
            score: 1.0
            normalized_value: cafe
          - value: cache
            score: 0.6
            normalized_value: cache
        description: Normalization impact on suggestions
        tags:
          - normalization
          - unicode
      - input: test
        options:
          min_score: 0.6
          max_suggestions: 3
          metric: jaro_winkler
          normalize_preset: default
          prefer_prefix: true
        candidates:
          - testing
          - tested
          - best
        expected:
          - value: tested
            score: 0.9400000000000001
            normalized_value: tested
          - value: testing
            score: 0.9228571428571428
            normalized_value: testing
          - value: best
            score: 0.8333333333333334
            normalized_value: best
        description: Jaro-Winkler with prefix preference
        tags:
          - jaro_winkler
          - prefix
