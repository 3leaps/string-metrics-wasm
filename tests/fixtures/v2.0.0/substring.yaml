$schema: https://schemas.fulmenhq.dev/library/foundry/v2.0.0/similarity.schema.json
version: 2025.10.3
generator:
  tool: similarity-validator
  tool_version: 0.1.0
  source_library: rapidfuzz-rs
  source_version: '3.0'
  generated_at: 2025-10-27T18:06:09.478274+00:00
  command: similarity-validator generate --input tests/fixtures/v2.0.0/substring.yaml --overwrite
notes: |-
  GENERATED FILE - DO NOT EDIT EXPECTED VALUES BY HAND

  This fixture was generated using similarity-validator with rapidfuzz-rs as the
  canonical source. Values are authoritative and ready for cross-language validation.

  Reference implementations:
  - Canonical: rapidfuzz-rs 3.x (Rust, used for generation)
  - Cross-check: rapidfuzz 3.x (Python, pyfulmen)
  - Under test: string-metrics-wasm (TypeScript/WASM)

  To regenerate:
  similarity-validator generate --input tests/fixtures/v2.0.0/substring.yaml --overwrite
test_cases:
  - category: substring
    cases:
      - needle: hello
        haystack: hello world
        expected_score: 0.625
        expected_range:
          start: 0
          end: 5
        description: Prefix match
        tags:
          - prefix
      - haystack: hello world
        needle: world
        expected_score: 0.625
        expected_range:
          start: 6
          end: 11
        description: Suffix match
        tags:
          - suffix
      - haystack: schemas/foundry/patterns.yaml
        needle: schemas
        expected_score: 0.3888888888888889
        expected_range:
          start: 0
          end: 7
        description: Path component match
        tags:
          - path
          - partial
      - haystack: schemas/foundry/patterns.yaml
        needle: foundry
        expected_score: 0.3888888888888889
        expected_range:
          start: 8
          end: 15
        description: Middle path component
        tags:
          - path
          - middle
      - needle: test
        haystack: this is a test case
        expected_score: 0.34782608695652173
        expected_range:
          start: 10
          end: 14
        description: Word in sentence
        tags:
          - sentence
      - needle: xyz
        haystack: abcdef
        expected_score: 0.0
        description: No common substring
        tags:
          - edge_case
          - no_match
